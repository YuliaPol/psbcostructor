<script>
    
    $('.page-content').on('change', '.statusselector', function (event) {
        var id = $(this).attr('data-id');

        // отправляем данные на сервер
        $.ajax({
            type: 'POST',
            url: '/admin/poll/status-change',
            data: {
                id: id
            },
        }).done(function (data) {
            // данные сохранены
            console.log('success ', data);
        }).fail(function () {
            // не удалось выполнить запрос к серверу
            console.log('Запрос не принят');
        })

        return false;
    });

    $('.page-content').on('click', '.to-archive', function (event) {
        var id = $(this).attr('data-id');
        var status = 'archived';

        console.log(id + status);

        // отправляем данные на сервер
        $.ajax({
            type: 'POST',
            url: '/admin/poll/status-change',
            data: {
                id: id,
                status: status
            },
        }).done(function (data) {
            // данные сохранены
            $.pjax.reload({container: '#table'});

            console.log('success ', data);
        }).fail(function () {
            // не удалось выполнить запрос к серверу
            console.log('Запрос не принят');
        })

        return false;
    })

</script>