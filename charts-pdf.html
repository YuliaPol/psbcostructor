<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Отчётность / Тестирование дизайна</title>

    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/charts.css">

    <script src="./js/jquery-3.5.1.min.js"></script>
    <script src="./js/script.js"></script>
    <script src="./js/jqueryRadialBarMultiple.js"></script>
    <script src="./js/Chart.min.js"></script>
    <script src="./js/Chart.roundedBarCharts.js"></script>
    <script src="./js/jquery.drawDoughnutChart.js"></script>
    <script src="./js/jquery.drawPieChart.js"></script>
</head>

<body>
    <header class="header  sm-header">
        <div class="header-row">
            <div class="panelmenu">
                <ul>
                    <li class="active">
                        <a href="#">Все опросы</a>
                    </li>
                    <li>
                        <a href="#">Архив</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-user">
                <div class="user">
                    <div class="user-wrapper show-user-dropdown">
                        <div class="user-name">Alexander Pierce</div>
                        <div class="icon-user">
                            <img src="./img/user.png" alt="Alexander Pierce">
                        </div>
                    </div>
                    <div class="dropdown-user">
                        <ul>
                            <li>
                                <a href="#" class="logout">Выход </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <style>
        .download-pdf {
            padding-bottom: 20px;
            padding-top: 10px;
        }
        .download-pdf a {
            font-size: 18px;
            cursor: pointer;
            font-weight: bold;
        }
    </style>
    <div class="charts-content form-html">
        <div class="charts-header">
            Отчётность / Тестирование дизайна
        </div>
        <div class="download-pdf">
            <a title="Download" id="create_pdf">PDF</a>
        </div>
        <div class="chart-row">
            <div class="chart-box width-33">
                <div class="chart-header">
                    1 . Насколько этот товар привлекает Ваше внимание?
                </div>
                <div class="chart-content">
                    <div class="verticalBar">
                        <div class="chart">
                            <div class="verticalBar-1">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="chart-box width-33">
                <div class="chart-header">
                    2 . Насколько понятно, что это?
                </div>
                <div class="chart-content">
                    <div class="radialBar2">
                        <div class="chart">
                            <div class="radialbar-1">
                            </div>
                        </div>
                        <div class="legend">
                            <div class="legend-list">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="chart-box width-33">
                <div class="chart-header">
                    3 . Насколько вам в целом нравится этот товар/ продукт/ прототип?
                </div>
                <div class="chart-content">
                    <div class="lineDot">
                        <div class="chart">
                            <div class="lineDot-1">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="chart-box width-33">
                <div class="chart-header">
                    4 . Насколько этот товар/прооукт/ прототип уникален?
                </div>
                <div class="chart-content">
                    <div class="dougnat">
                        <div class="chart">
                            <div class="dougnat-2"></div>
                        </div>
                        <div class="legend">
                            <div class="legend-list">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="chart-box width-33">
                <div class="chart-header">
                    5 . Насколько для Вас актуален и соответствует
                    Вашим потребностям этот товар/
                    продукт/ прототип?
                </div>
                <div class="chart-content">
                    <div class="pyramid">
                        <div class="chart">
                            <div class="pyramid-1">
                            </div>
                        </div>
                        <div class="legend">
                            <div class="legend-list">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="chart-box width-33">
                <div class="chart-header">
                    7 . Оцените Ваше желание узнать больше об этом товаре/ продукте/ прототипе?
                </div>
                <div class="chart-content">
                    <div class="varticalBarShadow">
                        <div class="chart">
                            <div class="verticalBar-2">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="chart-box width-33">
                <div class="chart-header">
                    7 . Оцените Ваше желание узнать больше об этом товаре/ продукте/ прототипе?
                </div>
                <div class="chart-content">
                    <div class="lineChart">
                        <div class="chart">
                            <div class="line-1">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="chart-box width-33">
                <div class="chart-header">
                    8 . Оцените Ваше желание купить этот товар
                    /продукт прототип по цене/дать возможность
                    вставить цену/?
                </div>
                <div class="chart-content">
                    <div class="horizonatlbar">
                        <div class="chart">
                            <div class="horizonatlbar-1"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="chart-box width-33">
                <div class="chart-header">
                    9 . Вы бы рассказали об этом товаре своим
                    друзьям, если бы увидели его в реальной жизни?
                </div>
                <div class="chart-content">
                    <div class="pieRound">
                        <div class="chart">
                            <div class="pieround-1"></div>
                        </div>
                        <div class="legend">
                            <div class="legend-list">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="./js/charts.js?4898765454"></script>
    <script type="text/javascript">
        var chartData = [ //массив с данными для графиков типу круги в кругах
            {
                element: '.verticalBar-1', // класс елемента
                type: 'verticalBar',               //тип графіка
                data: [                          //данные графика      
                    {
                        background: "#306ADB",
                        progress: "235",
                        labelText: "1"
                    },
                    {
                        background: "#306ADB",
                        progress: "344",
                        labelText: "2"
                    },
                    {
                        background: "#306ADB",
                        progress: "465",
                        labelText: "3"
                    },
                    {
                        background: "#306ADB",
                        progress: "480",
                        labelText: "4"
                    },
                    {
                        background: "#306ADB",
                        progress: "550",
                        labelText: "5"
                    }
                ],
            },
            {
                element: '.radialbar-1', // класс елемента
                type: 'radialBar2',               //тип графіка
                data: [                          //данные графика      
                    {
                        background: "#34A475",
                        progress: "235",
                        labelText: "1"
                    },
                    {
                        background: "#33C186",
                        progress: "244",
                        labelText: "2"
                    },
                    {
                        background: "#3FECA3",
                        progress: "365",
                        labelText: "3"
                    },
                    {
                        background: "#8CF0C6",
                        progress: "480",
                        labelText: "4"
                    },
                    {
                        background: "#B3FFDF",
                        progress: "595",
                        labelText: "5"
                    }
                ],
            },
            {
                element: '.lineDot-1', // класс елемента
                type: 'lineDot',               //тип графіка
                dotColor: '#FFD1E2',
                data: [                          //данные графика      
                    {
                        backgroundStart: "#FFD3E4",
                        backgroundEnd: "#FFD1E2",
                        progress: "310",
                        labelText: "1"
                    },
                    {
                        backgroundStart: "#FFA2C6",
                        backgroundEnd: "#FFD1E2",
                        progress: "290",
                        labelText: "2"
                    },
                    {
                        backgroundStart: "#F14D8D",
                        backgroundEnd: "#FFD1E2",
                        progress: "360",
                        labelText: "3"
                    },
                    {
                        backgroundStart: "#F7669E",
                        backgroundEnd: "#FFD1E2",
                        progress: "430",
                        labelText: "4"
                    },
                    {
                        backgroundStart: "#FD2679",
                        backgroundEnd: "#FFD1E2",
                        progress: "500",
                        labelText: "5"
                    }
                ],
            },
            {
                element: '.dougnat-2', // класс елемента
                type: 'dougnatIncrease',               //тип графіка
                data: [                          //данные графика      
                    {
                        background: "#FFCF53",
                        progress: "200",
                        labelText: "1"
                    },
                    {
                        background: "#FFBA53",
                        progress: "320",
                        labelText: "2"
                    },
                    {
                        background: "#FFCC80",
                        progress: "390",
                        labelText: "3"
                    },
                    {
                        background: "#FFF380",
                        progress: "420",
                        labelText: "4"
                    },
                    {
                        background: "#FFE700",
                        progress: "460",
                        labelText: "5"
                    },
                ]
            },
            {
                element: '.pyramid-1', // класс елемента
                type: 'pyramid',               //тип графіка
                data: [                          //данные графика      
                    {
                        background: "#F2EDFF",
                        progress: "220",
                        labelText: "1"
                    },
                    {
                        background: "#DCCDFF",
                        progress: "320",
                        labelText: "2"
                    },
                    {
                        background: "#C8B0FE",
                        progress: "290",
                        labelText: "3"
                    },
                    {
                        background: "#B18FFE",
                        progress: "420",
                        labelText: "4"
                    },
                    {
                        background: "#916AEA",
                        progress: "500",
                        labelText: "5"
                    },
                ]
            },
            {
                element: '.verticalBar-2', // класс елемента
                type: 'varticalBarShadow',               //тип графіка
                data: [                          //данные графика      
                    {
                        background: "#ECC68E",
                        progress: "150",
                        labelText: "1"
                    },
                    {
                        background: "#ECAF8E",
                        progress: "220",
                        labelText: "2"
                    },
                    {
                        background: "#ECC08E",
                        progress: "100",
                        labelText: "3"
                    },
                    {
                        background: "#FFA573",
                        progress: "420",
                        labelText: "4"
                    },
                    {
                        background: "#ED874D",
                        progress: "520",
                        labelText: "5"
                    },
                ]
            },
            {
                element: '.line-1', // класс елемента
                type: 'shadowLine',               //тип графіка
                borderColor: '#BDA0FF',
                data: [                          //данные графика  
                    {
                        progress: "280",
                        labelText: "1"
                    },
                    {
                        progress: "350",
                        labelText: "2"
                    },
                    {
                        progress: "320",
                        labelText: "3"
                    },
                    {
                        progress: "450",
                        labelText: "4"
                    },
                    {
                        progress: "560",
                        labelText: "5"
                    }
                ]
            },
            {
                element: '.horizonatlbar-1', // класс елемента
                type: 'horizontalbar',               //тип графіка
                data: [                          //данные графика      
                    {
                        background: "#F3D0FF",
                        progress: "600",
                        labelText: "1"
                    },
                    {
                        background: "#78F3EF",
                        progress: "500",
                        labelText: "2"
                    },
                    {
                        background: "#FFEDAB",
                        progress: "400",
                        labelText: "3"
                    },
                    {
                        background: "#00D2FB",
                        progress: "200",
                        labelText: "4"
                    },
                    {
                        background: "#FFA2C6",
                        progress: "100",
                        labelText: "5"
                    }

                ]
            },
            {
                element: '.pieround-1', // класс елемента
                type: 'pieRound',               //тип графіка
                data: [                          //данные графика      
                    {
                        background: "#F18586",
                        progress: "200",
                        labelText: "1"
                    },
                    {
                        background: "#FEDD88",
                        progress: "180",
                        labelText: "2"
                    },
                    {
                        background: "#FCFF6E",
                        progress: "320",
                        labelText: "3"
                    },
                    {
                        background: "#80FEAE",
                        progress: "430",
                        labelText: "4"
                    },
                    {
                        background: "#82F886",
                        progress: "550",
                        labelText: "5"
                    }
                ]
            },
        ];
    </script>
    <script src="./js/html2canvas.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
    <script>
        jQuery(function ($) {
            $(document).ready(function () {
                (function () {
                    var
                        form = $('.form-html'),
                        cache_width = form.width(),
                        a4 = [1100.28, 580.89];  // for a4 size paper width and height

                    $('#create_pdf').on('click', function () {
                        $('body').scrollTop(0);
                        createPDF();
                    });
                    //create pdf
                    function createPDF() {
                        getCanvas().then(function (canvas) {
                            var imgData = canvas.toDataURL('image/png');
                            /*
                            Here are the numbers (paper width and height) that I found to work.
                            It still creates a little overlap part between the pages, but good enough for me.
                            if you can find an official number from jsPDF, use them.
                            */
                            var imgWidth = 210;
                            var pageHeight = 295;
                            var imgHeight = canvas.height * imgWidth / canvas.width;
                            var heightLeft = imgHeight;

                            var doc = new jsPDF('p', 'mm');
                            var position = 0;

                            doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                            heightLeft -= pageHeight;

                            while (heightLeft >= 0) {
                                position = heightLeft - imgHeight;
                                doc.addPage();
                                doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                                heightLeft -= pageHeight;
                            }
                            doc.save('datamagnified_AE.pdf');
                        });
                    }


                    // create canvas object
                    function getCanvas() {
                        form.width((a4[0] * 1.33333) - 80).css('max-width', 'none');
                        return html2canvas(form[0], {
                            imageTimeout: 2000,
                            removeContainer: true
                        });
                    }

                }());
            });
        });
    </script>
</body>

</html>